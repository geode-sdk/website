<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Geode</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Open+Sans&family=Varela+Round&display=swap" rel="stylesheet"> 
    <link rel="stylesheet" href="index.css"> 
    <script src="https://cdn.jsdelivr.net/npm/feather-icons/dist/feather.min.js"></script>
    <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/highlight.min.js"></script>
</head>
<body class="bg-purple font-text text-white flex flex-col items-center p-0 m-0">
<!-- 
    <div class="bg"> 
        <img class="img" src="cover.png">
        <div class="gradient"></div>
    </div> -->
    
    <div class="svg-bg"></div>
    <div class="absolute hidden p-8 bg-gray-darker rounded-3xl flex-col gap-4 justify-center items-center top-20 arrow-before" id="install-popup">
        <h2 class="text-yellow font-head text-xl">Select Option to Install</h2>
        <text class="inline text-light text-sm">
            If you want to use Geode mods:
        </text>
        <div class="flex flex-col gap-4" id="install-options">
            Fetching installation options...
        </div>
        <text class="inline text-light text-sm">
            If you want to develop mods with Geode:
        </text>
        <a
            class="button has-icon border-solid border-2 border-gray-light"
            href="https://docs.geode-sdk.org/#/docs/info/installation?id=installing-geode-sdk-for-developers"
        >
            <i data-feather="code"></i>
            Install SDK
        </a>
    </div>

    <header class="sm:p-20 max-sm:p-6 mt-20 flex flex-col items-center">
        <section class="p-0 rounded-3xl flex flex-col items-center mb-4 max-w-fit">
            <div class="flex flex-row items-center justify-start">
                <img src="geode-logo-2.png" class="w-auto sm:h-20 max-sm:h-12 mr-4">
                <h1 class="sm:text-7xl max-sm:text-5xl">Geode</h1>
            </div>
            <p class="font-head text-2xl font-bold mt-12 mb-12 text-center">
                The ultimate
                <a href="https://store.steampowered.com/app/322170/Geometry_Dash/" class="text-yellow hover:text-cyan no-underline transition-colors">Geometry Dash</a>
                modding framework
            </p>
        </section>
        <div class="grid md:grid-cols-2 max-md:grid-cols-1 gap-8">
            <a
                class="button has-icon bg-gray-darker"
                onclick="showInstallMenu()"
                id="install"
            ><i data-feather="download"></i>Install</a>
            <a class="button has-icon bg-gray-darker" href="https://docs.geode-sdk.org">
                <i data-feather="book"></i>
                Documentation
            </a>
        </div>
    </header>

    <main class="flex flex-col items-center p-56 max-2xl:p-40 max-xl:p-10 m-0">

        <section>
            <div>
                <h1>A modding toolkit for GD</h1>
                <p>
                    Geode is a <em>modding framework</em> and <em>mod loader</em> that aims to 
                    <b>standardize</b> GD modding. It is <em>cross-platform</em>, and provides 
                    everything needed for modding, including a hooking library, Cocos2d & GD 
                    headers, and a ton of utilities from web requests to UI.
                </p>
            </div>
            <img src="mods.png">
        </section>

        <section>
            <img src="install.png">
            <div>
                <h1>Install mods in-game</h1>
                <p>
                    No more need to drag weird .DLL files around to obscure folders; mods in Geode can be installed from a 
                    list in-game on the click of a button, and updated the same way.
                </p>
            </div>
        </section>

        <section>
            <div>
                <h1>Easily manage mods</h1>
                <p>
                    With Geode, you can disable mods at runtime, view their info, edit their settings, and uninstall them 
                    all in one place.
                </p>
            </div>
            <img src="manage.png">
        </section>

        <section class="section-with-separator">
            <div>
                <h1>Things just work</h1>
                <p>
                    With Geode, you don't have to fear that two mods mysteriously don't work with each other; Geode comes with a 
                    wide range of tools for modders to ensure their mod is compatible with others with simple, easy to refactor 
                    code.
                </p>
            </div>

            <div class="separator"></div>

            <div>
                <h1>Doesn't load .DLLs</h1>
                <p>
                    Geode is incompatible with all non-Geode mods and mod loaders, <em>by design</em>. However, no need 
                    to worry; we are working on porting all your favorite mods like <em>Mega Hack</em>, <em>BetterEdit</em>, 
                    and <em>TextureLdr</em> to Geode, with new and improved versions.
                </p>
            </div>
        </section>

        <section>
            <pre><code class="language-cpp">
#include &lt;Geode/modify/MenuLayer.hpp&gt;

USE_GEODE_NAMESPACE();

class $modify(MenuLayer) {
    bool init() {
        if (!MenuLayer::init())
            return false;
        
        log::info("Hi from my mod!");

        return true;
    }
};
            </code></pre>
            <div>
                <h1>Declarative code</h1>
                <p>
                    Geode has incredibly sugary syntax; hooks can be made by simply creating a class and overwriting 
                    functions on it. All information related to the hook can be contained within a single source file, 
                    with no need to specify things like <em>calling conventions</em> &#8212; Geode 
                    handles the rest for you!
                </p>
                <div class="mt-6">
                    <a
                        class="button has-icon border-solid border-2 border-gray-light"
                        href="https://github.com/geode-sdk/examples/"
                    >
                        <i data-feather="arrow-right"></i>
                        View examples
                    </a>
                </div>
            </div>
        </section>

        <section class="section-with-separator">
            <div>
                <h1>Documentation</h1>
                <p>
                    Want to get started developing mods with Geode? Visit our documentation for information on how to install 
                    Geode, and how to create your first mod. If you are completely new to modding, we also have
                    <a href="https://geode-sdk.github.io/docs/#/docs/handbook/chap0">a handy handbook</a> that explains how to 
                    learn modding from scratch.
                </p>
                <div class="mt-6">
                    <a
                        class="button has-icon border-solid border-2 border-gray-light"
                        href="https://docs.geode-sdk.org"
                    >
                        <i data-feather="arrow-right"></i>
                        Get started
                    </a>
                </div>
            </div>

            <div class="separator"></div>

            <div>
                <h1>Get involved</h1>
                <p>
                    If you'd like to contribute to Geode by suggesting features, reporting bugs, submitting code, etc., 
                    feel free to <em>open up an issue or pull request</em> on the Geode repository! We also have a Discord 
                    Server, where you can chat about anything related to Geode and catgirls. 
                </p>
                <div class="mt-6 flex max-sm:flex-col sm:flex-row gap-4 items-center">
                    <a
                        class="button has-icon border-solid border-2 border-gray-light"
                        href="https://github.com/geode-sdk"
                    >
                        <i data-feather="github"></i>
                        GitHub
                    </a>
                    <a
                        class="button has-icon border-solid border-2 border-gray-light"
                        href="https://discord.gg/9e43WMKzhp"
                    >
                        <i data-feather="message-circle"></i>
                        Discord
                    </a>
                </div>
            </div>
        </section>

        <footer class="flex flex-col mt-10 mb-0 items-center gap-10">
            <div>
                Site by Geode Team.
                Icons from <a href="https://feathericons.com/" class="underline">Feather</a>.
                Thank you to <a href="https://github.com/nekitdev" class="underline">nekit</a> for the domain!
            </div>
            <a
                class="button has-icon border-solid border-2 border-light border-opacity-25 bg-opacity-0 hover:bg-opacity-0 hover:border-cyan"
                href="https://github.com/geode-sdk/geode-sdk.github.io"
            >
                <i data-feather="github"></i>
                View Site Source
            </a>
        </footer>

    </main>

    <script defer>
        feather.replace();
        hljs.highlightAll();

        fetch('https://api.github.com/repos/geode-sdk/installer/releases/latest')
            .then(r => r.json())
            .then(json => {
                const opts = document.querySelector('#install-options');
                opts.innerHTML = '';
                for (const asset of json.assets) {
                    let platformName;
                    if (asset.name.toLowerCase().includes('mac')) {
                        platformName = 'macOS';
                    }
                    else if (asset.name.toLowerCase().includes('win')) {
                        platformName = 'Windows';
                    }
                    else continue;
                    
                    let elem = document.createElement('a');
                    elem.classList.add(
                        'button', 'has-icon', 'border-solid',
                        'border-2', 'border-gray-light'
                    );
                    elem.href = asset.browser_download_url;
                    elem.innerHTML = `${feather.icons.box.toSvg()}Download for ${platformName}`;
                    opts.appendChild(elem);
                }
            })
            .catch(_ => {
                document.querySelector('#install-options').innerHTML = 
                    'Unable to get installation options';
            });

        // no install button on mobile because android geode doesn't exist yet
        if (navigator.userAgent.match(/android|iphone|kindle|ipad/i)) {
            document.getElementById('install').remove();
        }

        let hideAnimation = undefined;
        document.addEventListener('click', e => {
            const popup = document.getElementById('install-popup');
            if (popup.contains(e.target)) {
                return;
            }
            if (document.getElementById('install').contains(e.target)) {
                return;
            }
            hideAnimation = popup.animate([
                {
                    transform: 'translateY(0)',
                    opacity: 1
                },
                {
                    transform: 'translateY(-5rem)',
                    opacity: 0,
                },
            ], {
                easing: 'ease-in',
                duration: 250
            });
            hideAnimation.addEventListener('finish', _ => {
                popup.style.display = 'none';
                hideAnimation = undefined;
            });
        });

        function showInstallMenu() {
            const rect = document.getElementById('install').getBoundingClientRect();
            const popup = document.getElementById('install-popup');
            popup.style.display = 'flex';
            const popupRect = popup.getBoundingClientRect();
            popup.style.top = `calc(${rect.bottom + document.body.scrollTop}px + 2rem)`;
            popup.style.left = `${
                rect.left + 
                    (rect.right - rect.left) / 2 - 
                    (popupRect.right - popupRect.left) / 2
            }px`;
            if (hideAnimation) {
                hideAnimation.cancel();
            }
            popup.animate([
                {
                    transform: 'translateY(-5rem)',
                    opacity: 0
                },
                {
                    transform: 'translateY(0)',
                    opacity: 1
                },
            ], {
                easing: 'ease-out',
                duration: 250
            });
        }
    </script> 

</body>
</html>
